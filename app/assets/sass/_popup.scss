// POPUP
/*

'generic' - используется для любых попапов
'price' - это для курсов (он дополнительно устанавливает скрытый инпут для отслеживания что выбрали)
'svg' - попап с SVG анимацией
Теперь немного про каждый из них
Generic запускается с одной опцией - id попапа. Он находит этот попап и добавляет ему класс active, а так же вешает обработчики на закрытие попапа
Т.е. у него data-options="generic:#popupID"
+
У самого попапа тоже есть data-options="visible:close:shadow"
Это чтобы можно было менять стандартные классы
Т.е. если хотим не active, а что-то другое

*/
.popup {
	// a.close {
	// 	position: absolute; top: 10px; right: 5px; display: block; width: 30px; height: 30px;

	// 	&:hover {
	// 		span {
	// 			background: #cecece;
	// 		}
	// 	}

	// 	span {
	// 		height: 4px; width: 30px; display: block; position: absolute; left: 50%; top: 50%;
	// 		background: #e9e9e9; border-radius: 4px;
	// 		transition: all .3s ease;

	// 		&:first-child {
	// 			margin-bottom: -4px;
	// 			transform: translate(-50%, -50%) rotate(45deg);
	// 		}
	// 		&:last-child {
	// 			transform: translate(-50%, -50%) rotate(-45deg);
	// 		}
	// 	}
	// }
	
	&.generic {
		display: none; &.active {display: block;}

		width: 600px; margin: 0 auto; padding: 60px 0;
		position: absolute; left: 50%; transform: translateX(-50%); bottom: 10%; z-index: 99;
		background-color: #fff; box-shadow: 0 14px 32px 10px rgba(0, 0, 0, 0.2); border-radius: 10px;

		.popup-content {
			padding: 0 30px 0 60px; margin-right: 30px; max-height: 480px; overflow-y: auto;

			@include respond-to(sm) {
				max-height: 400px; padding: 0 20px 0 40px; margin-right: 20px;
			}
			@include respond-to(xs) {
				max-height: 320px; padding: 0 15px 0 30px; margin-right: 15px;
			}
		}

		&.naked {
			width: 90%; margin: 0; padding: 0;
			position: relative; left: 0; transform: translateX(0); bottom: 0;
			box-shadow: none;

			.popup-content {margin: 0; padding: 0;}
		}
	}

	&.svg {
		visibility: hidden; // need for this type popup (dislpay: none !not working)

		position: fixed;
		z-index: 9998;
		top: 0;
		left: 0;
		height: 100%;
		width: 100%;
		-webkit-transition: visibility 0s 0.6s;
		-moz-transition: visibility 0s 0.6s;
		transition: visibility 0s 0.6s;
		
		svg {
			position: absolute;
			top: 0;
			left: 0;

			> path {
				fill: #2f2c2c;
			}
		}

		a.svg-modal__close {
			/* 'X' icon */
			position: absolute;
			top: 20px;
			right: 5%;
			height: 30px;
			width: 30px;
			// border-radius: 50%;
			// background: rgba(0, 0, 0, 0.3) url(../img/cd-icon-close.svg) no-repeat center center;
			/* image replacement */
			overflow: hidden;
			text-indent: 100%;
			white-space: nowrap;
			/* Force hardware acceleration*/
			-webkit-transform: translateZ(0);
			-moz-transform: translateZ(0);
			-ms-transform: translateZ(0);
			-o-transform: translateZ(0);
			transform: translateZ(0);
			-webkit-backface-visibility: hidden;
			backface-visibility: hidden;
			visibility: hidden;
			opacity: 0;
			-webkit-transform: scale(0);
			-moz-transform: scale(0);
			-ms-transform: scale(0);
			-o-transform: scale(0);
			transform: scale(0);
			-webkit-transition: -webkit-transform 0.3s 0s, visibility 0s 0.3s, opacity 0.3s 0s;
			-moz-transition: -moz-transform 0.3s 0s, visibility 0s 0.3s, opacity 0.3s 0s;
			transition: transform 0.3s 0s, visibility 0s 0.3s, opacity 0.3s 0s;

			span {
				height: 4px; width: 30px; display: block; position: absolute; left: 50%; top: 50%;
				background: #a5a5a5; border-radius: 4px;
				transition: all .3s ease;

				&:first-child {
					margin-bottom: -4px;
					transform: translate(-50%, -50%) rotate(45deg);
				}
				&:last-child {
					transform: translate(-50%, -50%) rotate(-45deg);
				}
			}

			&:hover {
				span {
					background: #ffffff;
				}
			}
		}

		.svg-modal__content {
			position: relative;
			height: 100vh;
			overflow-y: auto;
			padding: 3em 5% 4em;
			opacity: 0;
			-webkit-transform: translateY(50px);
			-moz-transform: translateY(50px);
			-ms-transform: translateY(50px);
			-o-transform: translateY(50px);
			transform: translateY(50px);
			-webkit-transition: opacity 0.3s 0s, -webkit-transform 0.3s 0s;
			-moz-transition: opacity 0.3s 0s, -moz-transform 0.3s 0s;
			transition: opacity 0.3s 0s, transform 0.3s 0s;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
			
			/* FLEX BOX */
			display: none;
			flex-wrap: wrap;
			
			ul > li, h2, h3, h4, p {
				color: #ffffff !important;
			}
			p {
				line-height: 1.6;
				margin: 2em 0;
			}
			
			section {
				margin: 0 15px; width: 300px;
			}
		}

		&.svg-modal_visible {
			visibility: visible;
			-webkit-transition: visibility 0s 0s;
			-moz-transition: visibility 0s 0s;
			transition: visibility 0s 0s;

			.svg-modal__content {
				opacity: 1;
				-webkit-transform: translateY(0);
				-moz-transform: translateY(0);
				-ms-transform: translateY(0);
				-o-transform: translateY(0);
				transform: translateY(0);
				-webkit-overflow-scrolling: touch;
				-webkit-transition: opacity 0.3s 0.3s, -webkit-transform 0.3s 0.3s;
				-moz-transition: opacity 0.3s 0.3s, -moz-transform 0.3s 0.3s;
				transition: opacity 0.3s 0.3s, transform 0.3s 0.3s;
			}

			.svg-modal__close {
				visibility: visible;
				opacity: 1;
				-webkit-transition: -webkit-transform 0.3s 0s, visibility 0s 0s, opacity 0.3s 0s;
				-moz-transition: -moz-transform 0.3s 0s, visibility 0s 0s, opacity 0.3s 0s;
				transition: transform 0.3s 0s, visibility 0s 0s, opacity 0.3s 0s;
				-webkit-transform: scale(1);
				-moz-transform: scale(1);
				-ms-transform: scale(1);
				-o-transform: scale(1);
				transform: scale(1);
			}
		}

		& + .svg-modal__overlay {
		  position: fixed;
		  z-index: 1;
		  top: 0;
		  left: 0;
		  height: 100%;
		  width: 100%;
		  background-color: #f2f2f2;
		  visibility: hidden;
		  opacity: 0;
		  -webkit-transition: opacity 0.3s 0.3s, visibility 0s 0.6s;
		  -moz-transition: opacity 0.3s 0.3s, visibility 0s 0.6s;
		  transition: opacity 0.3s 0.3s, visibility 0s 0.6s;

		  &.active {
			  opacity: 1;
			  visibility: visible;
			  -webkit-transition: opacity 0.3s 0s, visibility 0s 0s;
			  -moz-transition: opacity 0.3s 0s, visibility 0s 0s;
			  transition: opacity 0.3s 0s, visibility 0s 0s;
			}
		}
	}

	@include respond-to(sm) {}
	@include respond-to(xs) {}


	// .popup-content {

	// 	&::-webkit-scrollbar {
	// 		display: block; width: 2px;
	// 	}

	// 	&::-webkit-scrollbar-thumb {
	// 		width: 100%;
	// 		background: #4cc2c0; border-radius: 2px;
	// 	}

	// 	h3 {
	// 		color: #acacac; font-size: 14px; line-height: 1.2; letter-spacing: 0.4px;
	// 		margin: 0 0 20px;
	// 	}

	// 	h4 {
	// 		font-size: 30px;
	// 	}

	// 	p {
	// 		margin-bottom: 20px;
	// 	}

	// 	ul {
	// 		margin-bottom: 40px;
	// 		&.last {margin-bottom: 0;}
	// 		li {
	// 			padding-left: 15px; position: relative; margin: 0;
	// 			&:before {
	// 				content: '\f0da';
	// 				font: normal normal normal 14px/1 FontAwesome;
	// 				color: #4cc2c0; font-size: 12px;
	// 				position: absolute; left: 0; top: 4px;
	// 			}

	// 			b {font-size: 16px;}
	// 		}
	// 	}

	// 	form {
	// 		input {margin-bottom: 15px;}
	// 		textarea {
	// 			margin-bottom: 15px; min-height: 120px;
	// 		}
	// 		button {
	// 			text-align: center;
	// 			width: 100%; margin: 15px 0;
	// 			background: #2f2c2c;
	// 			&:hover {background: #4cc2c0;}
	// 		}
	// 	}

	// }
	
}